import os
import shutil
import random

# Define the directory containing the images
image_directory = '/shared/anastasio-s2/SI/TCVAE/DL_feature_interpretation/dataset_540'

# Define the directories for the training and validation sets
train_directory = '/shared/anastasio-s2/SI/TCVAE/DL_feature_interpretation/dataset_with_resizing/train'
valid_directory = '/shared/anastasio-s2/SI/TCVAE/DL_feature_interpretation/dataset_with_resizing/valid'

# Get a list of files
files = os.listdir(image_directory)
random.shuffle(files)

# Split into 80% train, 20% valid
split_idx = int(0.8 * len(files))
train_files = files[:split_idx]
valid_files = files[split_idx:]

# Create train/valid directories if they don't exist
os.makedirs(train_directory, exist_ok=True)
os.makedirs(valid_directory, exist_ok=True)

# Copy files
for file in train_files:
    shutil.copy(os.path.join(image_directory, file), os.path.join(train_directory, file))

for file in valid_files:
    shutil.copy(os.path.join(image_directory, file), os.path.join(valid_directory, file))
